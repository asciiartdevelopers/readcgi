tag: HEAD

　dat落ちのメッセージ変更
　USE_PATH時のimode出力対応
  USE_INDEX用処理の一部が#if 0になっていたので#ifdef USE_INDEXに訂正。
  rawmodeリザルトで "-ERR 過去ログ倉庫で発見 %s" と "-ERR html待ち" 追加。
　rawmodeで末尾にhtmlが付いてしまうバグ修正
  USE_PATHのURL生成をまとめ、旧形式と統合した。
    CHUNKED_ANCHOR_WITH_FORMのみ未対応
  出力系のconditionのチェック
    RELOADLINK,PREV_NEXT_ANCHOR,CHUNK_ANCHOR,CREATE_NAME_ANCHOR
    SEPARATE_ANCHORのon/offで不都合を修正
    SEPARATE_CHUNK_ANCHORとPREV_NEXT_ANCHOR同時はいまいち
  path形式でのlxxでnofirst=trueにしていたのをやめた。
  path形式と旧形式でnofirst=の不整合を修正
  LATEST_ANCHORのcondition削除
　ALWAYS_PATH condition追加
　PREV_NEXT_ANCHOR有効時はi-mode版もリンクを「1-」「最新10」「次10」のように簡略化
　i-mode版で不要な</dl>が出力されるバグを修正
　PATH時に過去落ち/過去ログ倉庫へのリンクがおかしかったバグを修正
　rawmode +リザルトでデータサイズに続けて "/上限サイズK"も出力するようにした
　>>nnリンクを削除する場合に余分な"</a>"が残ってしまっていたバグ修正
  READ_KAKO read.cgi/temp/nnnn/ read.cgi/kako/nnnn/で過去ログ読み出し
    ■■■転送量の増加に注意、現在ON


tag: YAKIN20010919: 実験サーバ choco.2ch.net にて ver 5.22として採用。

　rawmodeで "+OK"と"-INCR"にサイズも表示するようにした
　フッタ部分にまたがるHTMLタグの修正
　HEADリクエスト時に処理軽減
　PREV_NEXT_ANCHORをCHUNK_ANCHORとRELOADLINKに協調させた
　REFERDRES_SIMPLE, NO_LINK_URL_BUSY追加
　USE_CSS追加、fusianasan等の対応待ち
　「名前」も削除(CUT_NAME_STRING)
　PUT_ETAG追加
　他レスへのリンク指定 &gt;&gt; を >> に短縮置換
　他レスへのリンクが PATH_INFO時常に範囲指定になっていたのを整理
　PATH_INFOの=をlに。
　ETag生成時、dat_read()が二回呼ばれることがあったが、1回のみにするようにした。


tag YAKIN20010915: 実験サーバ ex.2ch.net にて ver 5.21として採用。

　USE_PATH時、スレ一覧を行う実験機能の残骸が残っていた(〜/board/ とリクエストしたときに
壊れた表示になった)が、無効にして「ないです」エラーになるようにした
　rawmode時はBadAccess()の判定を変更、圧縮対応のみ許可とした。
　サイズ上限とメッセージ数上限の両方に達しているときの警告は無駄なので消した
　i-mode時の最終レス画面でRELOADLINKではなく「次の10レス」が出てしまっていたバグ修正
　NN4.xのgzip圧縮時対策
　PATH_INFO中に '='でls, 'n'でnofirst=true, '.'でnofirst=false相当の動作をするようにした
　PATH_INFOとQUERY_STRINGが両方指定された場合、後者が優先になるようにした
　rawmodeの書式ミスには-INCRを返すようにした。
　>>nnで表示外に飛ぶとき、target="_blank"を付けた
　USE_CHUNK_LINK, SEPARATE_CHUNK_ANCHOR, PREV_NEXT_ANCHOR, NORMAL_TAGCUT追加
　夜勤さんの要請に従い、DAT_DIR, TEMP_DIR, KAKO_DIR追加。過去ログのディレクトリ構成変更に
対応。
　「掲示板に戻る」リンクを相対パス化
　rawmodeでの出力をバイナリ出力に修正。従来は'\0'があると切れていた。
　lsと範囲指定の両方があったときにはlsが優先になるようにした。


tag YAKIN20010910: piza2サーバなどに Ver 5.20として採用。

  CGINAMEの参照もれ対応
　USE_PATH時のrewrite_href生成URLをリクエストされた方式に合わせた
　nofirst=true表記統一
　CUTRESLINKを有効固定にした
　旧形式リクエストの場合 >>1 が表示できなかった
　サイズ制限による「大きすぎます」警告追加
　ストッパー時、1000オーバー時にRELOADLINKを消した
　BadAccess判定のかちゅ〜しゃのスペルミス訂正
　その他細かいbug fix, ソース整理
　config.txt追加


tag YAKIN20010909: piza2サーバに read5x.cgiとして実験導入

　ver.5.12に対して多数の改良。おおまかに
　・CHUNK対応
　・gzip対応
　・"投稿日"の削除
　・PATH_INFOへの対応
　・rawモードの導入
など

